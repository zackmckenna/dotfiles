# skhd configuration - Hyprland-inspired keybindings
# https://github.com/koekeishiya/skhd

# Modifier key: cmd + alt (like Super in Hyprland)
# Use Cmd+Alt for most window operations

# ====================
# Focus Windows (Vim-style)
# ====================

# Focus window in direction
cmd + alt - h : yabai -m window --focus west
cmd + alt - j : yabai -m window --focus south
cmd + alt - k : yabai -m window --focus north
cmd + alt - l : yabai -m window --focus east

# ====================
# Move Windows (Vim-style with Shift)
# ====================

# Swap window in direction
cmd + alt + shift - h : yabai -m window --swap west
cmd + alt + shift - j : yabai -m window --swap south
cmd + alt + shift - k : yabai -m window --swap north
cmd + alt + shift - l : yabai -m window --swap east

# Move window to different position
cmd + alt + ctrl - h : yabai -m window --warp west
cmd + alt + ctrl - j : yabai -m window --warp south
cmd + alt + ctrl - k : yabai -m window --warp north
cmd + alt + ctrl - l : yabai -m window --warp east

# ====================
# Resize Windows
# ====================

# Increase window size
cmd + alt + shift + ctrl - h : yabai -m window --resize left:-50:0 || yabai -m window --resize right:-50:0
cmd + alt + shift + ctrl - j : yabai -m window --resize bottom:0:50 || yabai -m window --resize top:0:50
cmd + alt + shift + ctrl - k : yabai -m window --resize top:0:-50 || yabai -m window --resize bottom:0:-50
cmd + alt + shift + ctrl - l : yabai -m window --resize right:50:0 || yabai -m window --resize left:50:0

# Equalize window sizes
cmd + alt - e : yabai -m space --balance

# ====================
# Window Layout Controls
# ====================

# Toggle window split type
cmd + alt - s : yabai -m window --toggle split

# Toggle float
cmd + alt - f : yabai -m window --toggle float --grid 4:4:1:1:2:2

# Toggle fullscreen
cmd + alt - m : yabai -m window --toggle zoom-fullscreen

# Toggle native fullscreen
cmd + alt + shift - m : yabai -m window --toggle native-fullscreen

# Rotate tree 90 degrees
cmd + alt - r : yabai -m space --rotate 90

# Flip along y-axis
cmd + alt - y : yabai -m space --mirror y-axis

# Flip along x-axis
cmd + alt - x : yabai -m space --mirror x-axis

# ====================
# Workspace (Space) Navigation
# ====================

# Focus space (like Hyprland workspaces)
cmd + alt - 1 : yabai -m space --focus 1
cmd + alt - 2 : yabai -m space --focus 2
cmd + alt - 3 : yabai -m space --focus 3
cmd + alt - 4 : yabai -m space --focus 4
cmd + alt - 5 : yabai -m space --focus 5
cmd + alt - 6 : yabai -m space --focus 6
cmd + alt - 7 : yabai -m space --focus 7
cmd + alt - 8 : yabai -m space --focus 8
cmd + alt - 9 : yabai -m space --focus 9

# Move window to space
cmd + alt + shift - 1 : yabai -m window --space 1
cmd + alt + shift - 2 : yabai -m window --space 2
cmd + alt + shift - 3 : yabai -m window --space 3
cmd + alt + shift - 4 : yabai -m window --space 4
cmd + alt + shift - 5 : yabai -m window --space 5
cmd + alt + shift - 6 : yabai -m window --space 6
cmd + alt + shift - 7 : yabai -m window --space 7
cmd + alt + shift - 8 : yabai -m window --space 8
cmd + alt + shift - 9 : yabai -m window --space 9

# Navigate to prev/next space
cmd + alt - left : yabai -m space --focus prev
cmd + alt - right : yabai -m space --focus next

# Move window to prev/next space
cmd + alt + shift - left : yabai -m window --space prev && yabai -m space --focus prev
cmd + alt + shift - right : yabai -m window --space next && yabai -m space --focus next

# ====================
# Display (Monitor) Navigation
# ====================

# Focus display
cmd + alt + ctrl - 1 : yabai -m display --focus 1
cmd + alt + ctrl - 2 : yabai -m display --focus 2
cmd + alt + ctrl - 3 : yabai -m display --focus 3

# Move window to display
cmd + alt + ctrl + shift - 1 : yabai -m window --display 1 && yabai -m display --focus 1
cmd + alt + ctrl + shift - 2 : yabai -m window --display 2 && yabai -m display --focus 2
cmd + alt + ctrl + shift - 3 : yabai -m window --display 3 && yabai -m display --focus 3

# ====================
# Application Launchers
# ====================

# Quick launch apps (like Hyprland $mainMod + Q = terminal)
cmd + alt - return : open -na /Applications/WezTerm.app
cmd + alt - b : open -na /Applications/Arc.app || open -na /Applications/Google\ Chrome.app || open -na /Applications/Safari.app
cmd + alt - c : open -na /Applications/Visual\ Studio\ Code.app

# ====================
# Yabai Service Controls
# ====================

# Restart yabai
cmd + alt + shift - r : yabai --restart-service

# Stop yabai
cmd + alt + shift - q : yabai --stop-service

# Start yabai
cmd + alt + shift - s : yabai --start-service

# ====================
# Layout Modes
# ====================

# Toggle layout: bsp <-> stack
cmd + alt - t : yabai -m space --layout "$(yabai -m query --spaces --space | jq -r 'if .type == "bsp" then "stack" else "bsp" end')"

# Toggle layout: bsp <-> float
cmd + alt - space : yabai -m space --layout "$(yabai -m query --spaces --space | jq -r 'if .type == "bsp" then "float" else "bsp" end')"

echo "skhd configuration loaded.."
